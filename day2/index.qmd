---
format:
  revealjs:
    incremental: false
    css: ../styles.css
execute: 
  echo: true
---

# 第２回：R入門（２）

<https://data-science-chiba-2024.github.io/day2/>

## スケジュール {.smaller}

1. ガイダンス、RとRStudioの紹介、R入門（１）
2. **R入門（２）**
3. プロジェクトの整理とデータの読み込み
4. データの整理（１）
5. データの整理（２）
6. データの可視化（１）
7. データの可視化（２）
8. e-learning（オンデマンド）

## Rを計算機として使う

- RStudioのコンソール（左下のパネル）にカーソルを置いて、簡単な計算をしてみましょう：

::: large

```{r}
2 * 10
```

:::

## オブジェクトについて

- 次に、Rの中のデータを変数（Rでは、「オブジェクト Object」と呼ぶ）として保存しよう：

::: large

```{r}
age <- 2 * 10
```

:::

## オブジェクトについて

これだけでは何も返ってこない。

変数の内容を確認するには、コンソールにその変数の名前を打てば良い：

::: large

```{r}
age
```

:::

## オブジェクトについて

また、「Environment」（環境）パネルを見ると、オブジェクトの確認ができる

![](../images/environment.jpg)

## オブジェクトについて

オブジェクトの上書きもできます。

::: large

```{r}
age <- 40
```

:::

`age`はいくつになりましたか？

## 関数とは

何かの値（インプット）を受けて、処理して、計算結果（アウトプット）を返すもの

::: center-x

<img src="https://manamina.valuesccg.com/uploads/content/image/12292/__.png" alt="drawing" height="100">

::: small
<https://manamina.valuesccg.com/articles/756>
:::

:::

## 関数とは

関数の書き方：

- 関数名(引数)

例えば

::: large

```{r}
round(3.1415, digits = 1)
```

:::

## 関数とは

関数の使い方を確認したい時は`?関数名`と打って、ヘルプファイルを参照すれば良い

::: large

```{r}
#| eval: false
?round
```

:::

## パッケージとは

- Rパッケージとは、Rが出来ることを大幅に増やす「追加」のソフト（関数のまとまり）
  - 現在、**２万**近くのパッケージがある！

## パッケージのインストール

Rパッケージのインストールを行うには、`install.packages()`を使う：

```{r}
#| label: install
#| echo: true
#| eval: false
install.packages("ggplot2")
```

一回インストールしたら、次回からはしなくて良いので、これはコードとして保存しない

## パッケージのロード

- パッケージをインストールしたら、使える状態するにはロードすることが必要
  - インストールは一回でいい
  - ロードは毎回必要

`library()`関数でロードする：

::: large

```{r}
library(ggplot2)
```

:::

## tidyverse

- `tidyverse`はデータサイエンス用パッケー**ジの集まり**のパッケージ
  - `ggplot2`（可視化）
  - `dplyr`（データの整理）
  - `stringr`（文字データを扱う）
  - など

これからよく使うので、インストールしましょう。一気に出来るから、楽。

```{r}
#| label: install-tidyverse
#| echo: true
#| eval: false
install.packages("tidyverse")
```

## `install.packages()`と`library()`の違い

- `install.packages()`は一回だけで良い（パソコンにパッケージをダウンロードする）

- `library()`はRを使う毎にしないといけない（パッケージを今回のRのセッションで使えるようにする）